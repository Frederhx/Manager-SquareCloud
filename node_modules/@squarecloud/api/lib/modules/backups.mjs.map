{"version":3,"sources":["../../src/lib/routes.ts","../../src/structures/application/base.ts","../../src/assertions/literal.ts","../../src/modules/applications.ts","../../src/structures/error.ts","../../src/structures/backup.ts","../../src/modules/backups.ts"],"sourcesContent":["import type { APIEndpoint } from \"@/types\";\n\nexport type Route<T extends APIEndpoint> = string & { __route: T };\nexport const Route = <T extends APIEndpoint>(route: string) =>\n\troute as Route<T>;\n\ninterface IRoutes {\n\t[k: string]: ((...args: string[]) => Route<APIEndpoint>) | IRoutes;\n}\n\nexport const Routes = {\n\tuser: () => {\n\t\treturn Route<\"user\">(\"/v2/users/me\");\n\t},\n\tservice: {\n\t\tstatus: () => {\n\t\t\treturn Route<\"service/status\">(\"/v2/service/status\");\n\t\t},\n\t},\n\tapps: {\n\t\tupload: () => {\n\t\t\treturn Route<\"apps/upload\">(\"/v2/apps\");\n\t\t},\n\t\tstatusAll: () => {\n\t\t\treturn Route<\"apps/status-all\">(\"/v2/apps/status\");\n\t\t},\n\t\tinfo: (appId: string) => {\n\t\t\treturn Route<\"apps/info\">(`/v2/apps/${appId}`);\n\t\t},\n\t\tstatus: (appId: string) => {\n\t\t\treturn Route<\"apps/status\">(`/v2/apps/${appId}/status`);\n\t\t},\n\t\tlogs: (appId: string) => {\n\t\t\treturn Route<\"apps/logs\">(`/v2/apps/${appId}/logs`);\n\t\t},\n\t\tdelete: (appId: string) => {\n\t\t\treturn Route<\"apps/delete\">(`/v2/apps/${appId}`);\n\t\t},\n\t\tcommit: (appId: string) => {\n\t\t\treturn Route<\"apps/commit\">(`/v2/apps/${appId}/commit`);\n\t\t},\n\t\tbackups: (appId: string) => {\n\t\t\treturn Route<\"apps/backups\">(`/v2/apps/${appId}/backups`);\n\t\t},\n\t\tgenerateBackup: (appId: string) => {\n\t\t\treturn Route<\"apps/generate-backup\">(`/v2/apps/${appId}/backups`);\n\t\t},\n\t\tstart: (appId: string) => {\n\t\t\treturn Route<\"apps/start\">(`/v2/apps/${appId}/start`);\n\t\t},\n\t\trestart: (appId: string) => {\n\t\t\treturn Route<\"apps/restart\">(`/v2/apps/${appId}/restart`);\n\t\t},\n\t\tstop: (appId: string) => {\n\t\t\treturn Route<\"apps/stop\">(`/v2/apps/${appId}/stop`);\n\t\t},\n\t\tfiles: {\n\t\t\tread: (appId: string) => {\n\t\t\t\treturn Route<\"apps/files/read\">(`/v2/apps/${appId}/files/content`);\n\t\t\t},\n\t\t\tlist: (appId: string) => {\n\t\t\t\treturn Route<\"apps/files/list\">(`/v2/apps/${appId}/files`);\n\t\t\t},\n\t\t\tupsert: (appId: string) => {\n\t\t\t\treturn Route<\"apps/files/upsert\">(`/v2/apps/${appId}/files`);\n\t\t\t},\n\t\t\tmove: (appId: string) => {\n\t\t\t\treturn Route<\"apps/files/move\">(`/v2/apps/${appId}/files`);\n\t\t\t},\n\t\t\tdelete: (appId: string) => {\n\t\t\t\treturn Route<\"apps/files/delete\">(`/v2/apps/${appId}/files`);\n\t\t\t},\n\t\t},\n\t\tdeployments: {\n\t\t\tlist: (appId: string) => {\n\t\t\t\treturn Route<\"apps/deployments/list\">(`/v2/apps/${appId}/deployments`);\n\t\t\t},\n\t\t\tcurrent: (appId: string) => {\n\t\t\t\treturn Route<\"apps/deployments/current\">(\n\t\t\t\t\t`/v2/apps/${appId}/deployments/current`,\n\t\t\t\t);\n\t\t\t},\n\t\t\twebhook: (appId: string) => {\n\t\t\t\treturn Route<\"apps/deployments/webhook\">(\n\t\t\t\t\t`/v2/apps/${appId}/deploy/webhook`,\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\tnetwork: {\n\t\t\tdns: (appId: string) => {\n\t\t\t\treturn Route<\"apps/network/dns\">(`/v2/apps/${appId}/network/dns`);\n\t\t\t},\n\t\t\tcustom: (appId: string) => {\n\t\t\t\treturn Route<\"apps/network/custom\">(`/v2/apps/${appId}/network/custom`);\n\t\t\t},\n\t\t\tanalytics: (appId: string) => {\n\t\t\t\treturn Route<\"apps/network/analytics\">(\n\t\t\t\t\t`/v2/apps/${appId}/network/analytics`,\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t},\n} satisfies IRoutes;\n","import type {\n\tAPIUserApplication,\n\tApplicationLanguage,\n} from \"@squarecloud/api-types/v2\";\nimport FormData from \"form-data\";\nimport { readFile } from \"fs/promises\";\n\nimport { assertPathLike, assertString } from \"@/assertions/literal\";\nimport type { SquareCloudAPI } from \"@/index\";\nimport { Routes } from \"@/lib/routes\";\nimport { BackupsModule, DeploysModule, FilesModule } from \"@/modules\";\nimport { ApplicationCacheService } from \"@/services\";\nimport { ApplicationStatus } from \"@/structures\";\nimport type { Application } from \"./application\";\n\n/**\n * Represents the base application from the user endpoint\n */\nexport class BaseApplication {\n\t/** The application ID */\n\tpublic readonly id: string;\n\t/** The application display name */\n\tpublic name: string;\n\t/** The application description */\n\tpublic description?: string;\n\t/** The url to manage the application via web */\n\tpublic url: string;\n\t/** The application total ram */\n\tpublic ram: number;\n\t/** The application current cluster */\n\tpublic cluster: string;\n\t/**\n\t * The application programming language\n\t *\n\t * - `javascript`\n\t * - `typescript`\n\t * - `python`\n\t * - `java`\n\t * - `elixir`\n\t * - `rust`\n\t * - `go`\n\t * - `php`\n\t * - `dotnet`\n\t * - `static`\n\t */\n\tpublic language: ApplicationLanguage;\n\n\t/** Cache service for this application */\n\tpublic readonly cache = new ApplicationCacheService();\n\t/** Files module for this application */\n\tpublic readonly files = new FilesModule(this);\n\t/** Backup module for this application */\n\tpublic readonly backups = new BackupsModule(this);\n\t/** Deploys module for this application */\n\tpublic readonly deploys = new DeploysModule(this);\n\n\t/**\n\t * Represents the base application from the user endpoint\n\t *\n\t * @constructor\n\t * @param client - The client for this application\n\t * @param data - The data from this application\n\t */\n\tconstructor(\n\t\tpublic readonly client: SquareCloudAPI,\n\t\tdata: APIUserApplication,\n\t) {\n\t\tconst { id, name, desc, ram, lang, cluster } = data;\n\n\t\tthis.id = id;\n\t\tthis.name = name;\n\t\tthis.description = desc;\n\t\tthis.ram = ram;\n\t\tthis.language = lang;\n\t\tthis.cluster = cluster;\n\t\tthis.url = `https://squarecloud.app/dashboard/app/${id}`;\n\t}\n\n\t/** @deprecated Use `Application#backups` instead */\n\tget backup() {\n\t\tconsole.warn(\n\t\t\t\"Application#backup is deprecated. Use Application#backups instead.\",\n\t\t);\n\t\treturn this.backups;\n\t}\n\n\t/**\n\t * Fetches this application for full information\n\t */\n\tasync fetch(): Promise<Application> {\n\t\treturn this.client.applications.fetch(this.id);\n\t}\n\n\t/**\n\t * Gets the application current status information\n\t */\n\tasync getStatus(): Promise<ApplicationStatus> {\n\t\tconst data = await this.client.api.request(Routes.apps.status(this.id));\n\t\tconst status = new ApplicationStatus(this.client, data.response, this.id);\n\n\t\tthis.client.emit(\"statusUpdate\", this, this.cache.status, status);\n\t\tthis.cache.set(\"status\", status);\n\n\t\treturn status;\n\t}\n\n\t/**\n\t * Gets the application current logs\n\t */\n\tasync getLogs(): Promise<string> {\n\t\tconst data = await this.client.api.request(Routes.apps.logs(this.id));\n\t\tconst { logs } = data.response;\n\n\t\tthis.client.emit(\"logsUpdate\", this, this.cache.logs, logs);\n\t\tthis.cache.set(\"logs\", logs);\n\n\t\treturn logs;\n\t}\n\n\t/**\n\t * Starts up the application\n\t * @returns `boolean` for success or fail\n\t */\n\tasync start(): Promise<boolean> {\n\t\tconst data = await this.client.api.request(Routes.apps.start(this.id), {\n\t\t\tmethod: \"POST\",\n\t\t});\n\n\t\treturn data?.status === \"success\";\n\t}\n\n\t/**\n\t * Stops the application\n\t * @returns `boolean` for success or fail\n\t */\n\tasync stop(): Promise<boolean> {\n\t\tconst data = await this.client.api.request(Routes.apps.stop(this.id), {\n\t\t\tmethod: \"POST\",\n\t\t});\n\n\t\treturn data?.status === \"success\";\n\t}\n\n\t/**\n\t * Restarts the application\n\t * @returns `boolean` for success or fail\n\t */\n\tasync restart(): Promise<boolean> {\n\t\tconst data = await this.client.api.request(Routes.apps.restart(this.id), {\n\t\t\tmethod: \"POST\",\n\t\t});\n\n\t\treturn data?.status === \"success\";\n\t}\n\n\t/**\n\t * Deletes your whole application\n\t * - This action is irreversible.\n\t *\n\t * @returns `boolean` for success or fail\n\t */\n\tasync delete(): Promise<boolean> {\n\t\tconst data = await this.client.api.request(Routes.apps.delete(this.id), {\n\t\t\tmethod: \"DELETE\",\n\t\t});\n\n\t\treturn data?.status === \"success\";\n\t}\n\n\t/**\n\t * Commit files to your application folder\n\t *\n\t * - This action is irreversible.\n\t *\n\t * - Tip: use this to get an absolute path.\n\t * ```ts\n\t * require('path').join(__dirname, 'fileName')\n\t * ```\n\t * - Tip 2: use a zip file to commit more than one archive\n\t *\n\t * @param file - Buffer or absolute path to the file\n\t * @param fileName - The file name (e.g.: \"index.js\")\n\t * @param restart - Whether the application should be restarted after the commit\n\t * @returns `true` for success or `false` for fail\n\t */\n\tasync commit(file: string | Buffer, fileName?: string): Promise<boolean> {\n\t\tassertPathLike(file, \"COMMIT_DATA\");\n\n\t\tif (fileName) {\n\t\t\tassertString(fileName, \"FILE_NAME\");\n\t\t}\n\n\t\tif (typeof file === \"string\") {\n\t\t\tfile = await readFile(file);\n\t\t}\n\n\t\tconst formData = new FormData();\n\t\tformData.append(\"file\", file, { filename: fileName || \"app.zip\" });\n\n\t\tconst data = await this.client.api.request(Routes.apps.commit(this.id), {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: formData.getBuffer(),\n\t\t\theaders: formData.getHeaders(),\n\t\t});\n\n\t\treturn data?.status === \"success\";\n\t}\n}\n","import * as z from \"zod\";\n\nimport { assertLiteral } from \"./common\";\n\nconst StringSchema = z.coerce.string();\n\nconst BooleanSchema = z.coerce.boolean();\n\nconst PathLikeSchema = z.string().or(z.instanceof(Buffer));\n\nexport function assertString(\n\tvalue: unknown,\n\tcode?: string,\n): asserts value is string {\n\tassertLiteral({\n\t\tschema: StringSchema,\n\t\texpect: \"string\",\n\t\tvalue,\n\t\tcode,\n\t});\n}\n\nexport function assertBoolean(\n\tvalue: unknown,\n\tcode?: string,\n): asserts value is boolean {\n\tassertLiteral({\n\t\tschema: BooleanSchema,\n\t\texpect: \"boolean\",\n\t\tvalue,\n\t\tcode,\n\t});\n}\n\nexport function assertPathLike(\n\tvalue: unknown,\n\tcode?: string,\n): asserts value is string | Buffer {\n\tassertLiteral({\n\t\tschema: PathLikeSchema,\n\t\texpect: \"string or Buffer\",\n\t\tvalue,\n\t\tcode,\n\t});\n}\n","import type { RESTPostAPIApplicationUploadResult } from \"@squarecloud/api-types/v2\";\nimport FormData from \"form-data\";\nimport { readFile } from \"fs/promises\";\n\nimport { assertPathLike, assertString } from \"@/assertions/literal\";\nimport { Routes } from \"@/lib/routes\";\nimport {\n\tApplication,\n\ttype BaseApplication,\n\ttype Collection,\n\tSimpleApplicationStatus,\n\tSquareCloudAPIError,\n\tUser,\n} from \"@/structures\";\nimport type { SquareCloudAPI } from \"..\";\n\nexport class ApplicationsModule {\n\tconstructor(public readonly client: SquareCloudAPI) {}\n\n\t/**\n\t * If the ID is provided, it will return an application that you can manage or get information\n\t * If the ID is not provided, it will return a collection of applications\n\t *\n\t * @param applicationId - The application ID, you must own the application\n\t */\n\tasync get(): Promise<Collection<string, BaseApplication>>;\n\tasync get(applicationId: string): Promise<BaseApplication>;\n\tasync get(\n\t\tapplicationId?: string,\n\t): Promise<BaseApplication | Collection<string, BaseApplication>> {\n\t\tconst { response } = await this.client.api.request(Routes.user());\n\t\tconst user = new User(this.client, response);\n\n\t\tthis.client.emit(\"userUpdate\", this.client.cache.user, user);\n\t\tthis.client.cache.set(\"user\", user);\n\n\t\tif (applicationId) {\n\t\t\tassertString(applicationId, \"APP_ID\");\n\t\t\tconst application = user.applications.get(applicationId);\n\n\t\t\tif (!application) {\n\t\t\t\tthrow new SquareCloudAPIError(\"APP_NOT_FOUND\");\n\t\t\t}\n\n\t\t\treturn application;\n\t\t}\n\n\t\treturn user.applications;\n\t}\n\n\t/**\n\t * Uploads an application\n\t *\n\t * @param file - The zip file path or Buffer\n\t *\n\t * @returns The uploaded application data\n\t */\n\tasync create(\n\t\tfile: string | Buffer,\n\t): Promise<RESTPostAPIApplicationUploadResult> {\n\t\tassertPathLike(file, \"COMMIT_DATA\");\n\n\t\tif (typeof file === \"string\") {\n\t\t\tfile = await readFile(file);\n\t\t}\n\n\t\tconst formData = new FormData();\n\t\tformData.append(\"file\", file, { filename: \"app.zip\" });\n\n\t\tconst data = await this.client.api.request(Routes.apps.upload(), {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: formData.getBuffer(),\n\t\t\theaders: formData.getHeaders(),\n\t\t});\n\n\t\treturn data.response;\n\t}\n\n\t/**\n\t * Gets the summary status for all your applications\n\t */\n\tasync statusAll(): Promise<SimpleApplicationStatus[]> {\n\t\tconst data = await this.client.api.request(Routes.apps.statusAll());\n\n\t\treturn data.response.map(\n\t\t\t(status) => new SimpleApplicationStatus(this.client, status),\n\t\t);\n\t}\n\n\t/**\n\t * Returns an application that you can manage or get information\n\t *\n\t * @param applicationId - The application ID, you must own the application\n\t */\n\tasync fetch(applicationId: string): Promise<Application> {\n\t\tconst { response } = await this.client.api.request(\n\t\t\tRoutes.apps.info(applicationId),\n\t\t);\n\n\t\treturn new Application(this.client, response);\n\t}\n}\n\nexport * from \"./backups\";\nexport * from \"../services/cache/application\";\nexport * from \"./deploys\";\nexport * from \"./files\";\nexport * from \"./network\";\n","export class SquareCloudAPIError extends TypeError {\n\tconstructor(\n\t\tcode: string,\n\t\tmessage?: string,\n\t\toptions?: { stack?: string; cause?: unknown },\n\t) {\n\t\tsuper(code);\n\n\t\tthis.name = \"SquareCloudAPIError\";\n\n\t\tthis.message =\n\t\t\t(code\n\t\t\t\t?.replaceAll(\"_\", \" \")\n\t\t\t\t.toLowerCase()\n\t\t\t\t.replace(/(^|\\s)\\S/g, (L) => L.toUpperCase()) || \"UNKNOWN_CODE\") +\n\t\t\t(message ? `: ${message}` : \"\");\n\n\t\tif (options?.stack) {\n\t\t\tthis.stack = options.stack;\n\t\t}\n\n\t\tif (options?.cause) {\n\t\t\tthis.cause = options.cause;\n\t\t}\n\t}\n}\n","import type { APIApplicationBackup } from \"@squarecloud/api-types/v2\";\n\nimport type { BaseApplication } from \"./application/base\";\n\n/**\n * Represents an application backup (snapshot)\n */\nexport class Backup {\n\t/** Size of the backup in bytes. */\n\tpublic size: number;\n\n\t/** Date of the last modification of the backup. */\n\tpublic modifiedAt: Date;\n\n\t/** Date of the last modification of the backup in millisseconds. */\n\tpublic modifiedTimestamp: number;\n\n\t/** AWS access key for the backup. */\n\tpublic readonly key: string;\n\n\t/** The URL for downloading this backup */\n\tpublic readonly url: string;\n\n\t/**\n\t * Represents an application backup (snapshot)\n\t *\n\t * @constructor\n\t * @param application - The application from which you fetched the backups\n\t * @param data - The data from this backup\n\t */\n\tconstructor(\n\t\tpublic readonly application: BaseApplication,\n\t\tdata: APIApplicationBackup,\n\t) {\n\t\tconst { name, size, modified, key } = data;\n\t\tconst { userId } = application.client.api;\n\n\t\tthis.size = size;\n\t\tthis.modifiedAt = new Date(modified);\n\t\tthis.modifiedTimestamp = this.modifiedAt.getTime();\n\t\tthis.key = key;\n\t\tthis.url = `https://backups.squarecloud.app/${userId}_${name}.zip?${key}`;\n\t}\n\n\t/**\n\t * Downloads this backup\n\t * @returns The downloaded backup bufer\n\t */\n\tasync download(): Promise<Buffer> {\n\t\tconst res = await fetch(this.url)\n\t\t\t.then((res) => res.arrayBuffer())\n\t\t\t.catch(() => undefined);\n\n\t\tif (!res) {\n\t\t\tthrow new Error(\"BACKUP_DOWNLOAD_FAILED\");\n\t\t}\n\n\t\treturn Buffer.from(res);\n\t}\n}\n","import type { RESTPostAPIApplicationBackupResult } from \"@squarecloud/api-types/v2\";\n\nimport { Routes } from \"@/lib/routes\";\nimport { type BaseApplication, SquareCloudAPIError } from \"@/structures\";\nimport { Backup } from \"@/structures/backup\";\n\nexport class BackupsModule {\n\tconstructor(public readonly application: BaseApplication) {}\n\n\t/**\n\t * Gets the list of generated backups (snapshots) for this application\n\t */\n\tasync list(): Promise<Backup[]> {\n\t\tconst data = await this.application.client.api.request(\n\t\t\tRoutes.apps.backups(this.application.id),\n\t\t);\n\n\t\tconst backups = data.response;\n\n\t\tthis.application.client.emit(\n\t\t\t\"backupsUpdate\",\n\t\t\tthis.application,\n\t\t\tthis.application.cache.backups,\n\t\t\tbackups,\n\t\t);\n\t\tthis.application.cache.set(\"backups\", backups);\n\n\t\treturn backups.map((backup) => new Backup(this.application, backup));\n\t}\n\n\t/**\n\t * Generates a new backup\n\t * @returns The generated backup URL and key\n\t */\n\tasync create(): Promise<RESTPostAPIApplicationBackupResult> {\n\t\tconst data = await this.application.client.api.request(\n\t\t\tRoutes.apps.generateBackup(this.application.id),\n\t\t\t{ method: \"POST\" },\n\t\t);\n\n\t\treturn data.response;\n\t}\n\n\t/**\n\t * Generates a new backup and downloads it\n\t * @returns The downloaded backup bufer\n\t */\n\tasync download(): Promise<Buffer> {\n\t\tconst backup = await this.create();\n\n\t\tconst res = await fetch(backup.url)\n\t\t\t.then((res) => res.arrayBuffer())\n\t\t\t.catch(() => undefined);\n\n\t\tif (!res) {\n\t\t\tthrow new SquareCloudAPIError(\"BACKUP_DOWNLOAD_FAILED\");\n\t\t}\n\n\t\treturn Buffer.from(res);\n\t}\n}\n"],"mappings":"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","names":["FormData","res","res"]}